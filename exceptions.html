<!DOCTYPE html>
<HTML>

<HEAD>

  <title>C++ Exceptions - Alexandr Poltavsky, software developer</title>

  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta http-equiv="Cache-Control" content="no-store" />

  <link rel="stylesheet" type="text/css" href="css/common.css" />
  <link rel="stylesheet" href="highlight/styles/hybrid.css">

</HEAD>

<BODY> 

<div id="wrap">

  <!-- header part -->

  <div id="header">

  <a href="/color-throne.html"><img class="ad" src="images/color-throne-logo-promo.png" title="Color Throne Game"/></a>    

  <a href="/">
      <img class="avatar" width="160" src="images/alexandr-poltavsky-avatar.jpeg" title="Alexandr Poltavsky" align="left"/>
    </a>
    <strong>
      Alexandr Poltavsky <br/> 
      Software developer <br/>
      <em>poltavsky.alexandr&#64;gmail.com</em> 
    </strong>
    <ul id="menu">
      <li><a href="/">Blog Contents</a></li>
      <li><a href="https://github.com/alexpolt/">Github</a></li>
      <li><a href="https://www.shadertoy.com/user/alexpolt">Shadertoy</a></li>
      <li><a href="https://twitter.com/poltavsky_alex">Twitter</a></li>
    </ul>

  </div>


  <div id="content" style="clear: left">

  <!-- here goes the main content -->

<h2>C++ Exceptions</h2>

<p>I guess every C++ programmer out there have struggled with the question of
  whether or not to use exceptions. Some say they complicate the code, others that
  they are a serious performance hit.</p>

<p>I also gave it some time. After long hours of musing on the subject, coming up
  with examples - no matter how hard I tried to come up with a better solution for
  error handling, I always landed with something similar to exceptions.</p>

<p>You need some registration mechanism on entering a scope to get the best out of RAII.
  Also exceptions remove that obnoxious <em>check and return</em> pattern.
  Exceptions make you aware of the cost of a function call, so you are mildly pushed to
  rearrange your data and algorithms.</p>

<p>So my conclusion is: <em>always use exceptions</em>, just use them right. 
  There is only one case for not using them, that is in real-time critical code (but you 
  always have the option of redesigning algorithms to offset the cost of exceptions).</p>

<p>My personal checklist when using exceptions is this:</p>

<ul>
<li>any problem related to resources (network connection, files, memory etc.) should end with 
an exception</li>
<li>any sort of bad input from outside world: wrong numbers, corrupted files, invalid input</li>
<li>don't use exceptions for checking preconditions (use types and asserts for that)</li>
<li>don't use exceptions for business logic</li>
<li>combine exceptions with RAII for full throttle (take a look at Alexandrescu's <em>scope_guard</em>)</li>
</ul>

<!--first character is non-space to avoid markdown bug of not closing list-->

<p>Exceptions are indispensable. There is just and odd anxiety among developers about them.</p>

<p>Also, I really think <strong>the exception safety problem is so much overinflated</strong>. We should've 
  designed <em>STL</em> with exceptions on copy/move strictly prohibited. It just doesn't make  sense 
  to allow exceptions in these cases. Look, we need exceptions to signal some resource problems 
  or bad input or anything like this. We don't need exceptions on copy! If there are memory 
  allocation failures, then just call std::terminate! Instead we decided to drown in useless 
  complexity.</p>


<script src="highlight/highlight.pack.js"></script>
<script>
  //hljs.configure({languages: ["C++"]});
  hljs.initHighlightingOnLoad();
</script>


<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    if( ! document.getElementById("contents") ) // alexpolt: exclude main page with contents
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//alexpolt-github-io.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>



  </div> <!-- end content -->

</div> <!-- end wrap -->



<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75341409-1', 'auto');
  ga('send', 'pageview');
</script>

</BODY>

